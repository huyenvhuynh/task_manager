{% extends 'myapp/base.html' %} {% block content %}
<div class="container mt-5">
  <h1>File Search</h1>
  {% if assignments %}
  <div class="d-flex justify-content-end mb-3">
    <div class="input-group">
      <input type="text" class="form-control" placeholder="Search files..." id="searchInput">
      <button class="btn btn-primary" type="button" id="searchButton">
        Search
      </button>
    </div>
  </div>
  <ul class="list-group">
    {% for assignment in assignments %}
    <li class="list-group-item">
      <h5>{{ assignment.title }}</h5>
      <p>{{ assignment.description }}</p>
      <p>Due Date: {{ assignment.due_date }}</p>
      <p>Uploaded At: {{ assignment.uploaded_at }}</p>
      {% if assignment.file_upload %}
      <p>
        File:
        <a href="{{ assignment.file_upload.url }}"
          >{{ assignment.file_upload.name }}</a
        >
      </p>
      
      <!-- Displaying keywords -->
      {% if assignment.keywords %}
      <div class="keywords">
        <strong>Keywords:</strong>
        {% for keyword in assignment.keyword_list %}
        <span class="keyword-tag">{{ keyword }}</span>
        {% endfor %}
      </div>
      {% else %}
      <p>No keywords added.</p>
      {% endif %}
      {% else %}
      <p>No file uploaded.</p>
      {% endif %}

      <div>
        <a
          href="{% url 'myapp:edit_assignment' assignment.id %}"
          class="btn btn-secondary btn-sm"
          >Edit</a
        >
        <form
          action="{% url 'myapp:delete_assignment' assignment.id %}"
          method="post"
          style="display: inline"
        >
          {% csrf_token %}
          <button type="submit" class="btn btn-danger btn-sm">Delete</button>
        </form>
      </div>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p>No assignments found.</p>
  {% endif %}
</div>
{% endblock %}

<style>
  .keywords {
    margin-top: 10px;
  }

  .keyword-tag {
    background-color: #e0e0e0;
    color: #333;
    padding: 5px 10px;
    border-radius: 5px;
    display: inline-block;
    margin-right: 5px;
    font-size: 0.85em;
  }
</style>
